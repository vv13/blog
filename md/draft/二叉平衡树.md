---
title: 二叉平衡树
date: '2018-09-08'
tags: ['Algorithm']
draft: true
---

## AVL树

AVL树是最先发明的自平衡二叉查找树，它的任意一个节点的左子树和右子树高度最多相差1，因此也称为高度平衡树。当在添加或移除节点时，AVL树会尝试自平衡操作。

AVL树每个节点都拥有一个平衡因子，只有当所有平衡因子满足条件才称之为平衡树，而平衡因子的计算方式为其节点左子树的高度减去右子树的高度，只有当平衡因子的值为[-1, 0, 1]才满足条件，如下是一个平衡树与非平衡树的图：


当对AVL树进行插入或删除节点时，有可能会导致树失去平衡，节点失去平衡时有四种状态：

1. LL(LeftLeft)，根节点左子树的左子树还有非空节点，导致根节点左子树高度比其右字树高2
2. LR(LeftRight)，根节点左子树的右子树还有非空节点，导致根节点左子树高度比其右字树高2
3. RL(RightLeft)，根节点右子树的左子树还有非空节点，导致根节点右子树的高度比左子树大2
4. RR(RightRight)，根节点右子树的右子树还有非空节点，导致根节点右子树的高度比左子树大2

当失去平衡时，可通过"旋转"操作让AVL树恢复平衡，下面介绍失去平衡的四种状态对应的旋转操作：

- RR：向左的单旋转
- LL：向右的单旋转
- LR：向右的双旋转，即先对根节点的左节点执行向左的单旋转（RR），再对根节点执行向右的单旋转（LL）
- RL：向左的双旋转，即先对根节点的右节点执行向右的单旋转（LL），再对根节点执行向左的单旋转（RR）
